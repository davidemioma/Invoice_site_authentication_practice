(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={formModal:"AuthForm_formModal__78CxL",form:"AuthForm_form__3ZLEX",formInput:"AuthForm_formInput__3aDfe",actions:"AuthForm_actions__1VNhY",btnAction:"AuthForm_btnAction__2hrA7",btnToggle:"AuthForm_btnToggle__2aCAg"}},,,,function(e,t,n){e.exports={nav:"Nav_nav__WI6aX",navLogo:"Nav_navLogo__wosKO",imgDiv:"Nav_imgDiv__3eSF8",avatar:"Nav_avatar__1VOSE"}},,,,,,function(e,t,n){e.exports={home:"InvoicesPage_home__2Eh64",navBar:"InvoicesPage_navBar__32wDS"}},function(e,t,n){e.exports={invoice:"Invoice_invoice__2yATv",navBar:"Invoice_navBar__1BTN9"}},function(e,t,n){},function(e,t,n){},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(14),a=n.n(c),i=n(23),s=n(4),r=n(15),l=Object(r.b)({name:"invoices",initialState:{invoices:[],totalInvoices:0,changed:!1},reducers:{replaceInvoices:function(e,t){e.invoices=t.payload.invoices,e.totalInvoices=t.payload.totalInvoices},addInvoice:function(e,t){var n=t.payload;e.invoices.find((function(e){return e.id===n.id}))||(e.invoices.push(n),e.totalInvoices++),e.changed=!0},deleteInvoice:function(e,t){var n=t.payload;e.invoices.find((function(e){return e.id===n}))&&(e.invoices=e.invoices.filter((function(e){return e.id!==n})),e.totalInvoices--),e.changed=!0},markInvoiceAsPaid:function(e,t){var n=t.payload,c=e.invoices.findIndex((function(e){return e.id===n}));e.invoices[c]&&(e.invoices[c].status="Paid"),e.changed=!0},updateInvoice:function(e,t){var n=t.payload,c=e.invoices.findIndex((function(e){return e.id===n.id}));e.invoices[c]&&(e.invoices[c]=n),e.changed=!0}}}),o=Object(r.a)({reducer:{allInvoice:l.reducer}}),d=l.actions,j=o,u=n(3),b=n(1);function m(e,t){var n=function(e){var t=new Intl.DateTimeFormat(navigator.language||"eu",{month:"short",year:"numeric",day:"2-digit"}),n=new Date(e);return t.format(n)}(24*t*60*60*1e3+new Date(e).getTime());return n}var h,O=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},v=n(0),x=Object(b.createContext)({token:"",localId:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),p=function(e){var t,n,c=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expiringTime"),n=localStorage.getItem("localID"),c=O(t);return c<=3600?(localStorage.removeItem("token"),localStorage.removeItem("localID"),localStorage.removeItem("expiringTime"),null):{token:e,localId:n,duration:c}}();c&&(t=c.token,n=c.localId);var a=Object(b.useState)(t),i=Object(u.a)(a,2),s=i[0],r=i[1],l=Object(b.useState)(n),o=Object(u.a)(l,2),d=o[0],j=o[1],m=!!s&&!!d,p=Object(b.useCallback)((function(){r(null),j(null),localStorage.removeItem("token"),localStorage.removeItem("localID"),localStorage.removeItem("expiringTime"),h&&clearTimeout(h)}),[]);window.onbeforeunload=function(){p()},Object(b.useEffect)((function(){c&&(h=setTimeout(p,c.duration))}),[c,p]);var f={token:s,localId:d,isLoggedIn:m,login:function(e,t,n){r(e),j(t),localStorage.setItem("token",e),localStorage.setItem("localID",t),localStorage.setItem("expiringTime",n);var c=O(n);h=setTimeout(p,c)},logout:p};return Object(v.jsx)(x.Provider,{value:f,children:e.children})},f=x,g=(n(32),n(8)),N=n.n(g);var I=function(e){var t=Object(b.useState)(""),n=Object(u.a)(t,2),c=n[0],a=n[1],i=Object(b.useState)(!1),s=Object(u.a)(i,2),r=s[0],l=s[1],o=e(c);return{value:c,isValid:o,isInvalid:!o&&r,onChangeHandler:function(e){a(e.target.value)},onBlurHandler:function(e){l(!0)},reset:function(){a(""),l(!1)}}},C=n(2);var y=function(){var e=Object(b.useContext)(f),t=Object(C.f)(),n=Object(b.useState)(!0),c=Object(u.a)(n,2),a=c[0],i=c[1],s=Object(b.useState)(!1),r=Object(u.a)(s,2),l=(r[0],r[1]),o=I((function(e){return e.includes("@gmail.com")||e.includes("@yahoo.com")})),d=o.value,j=o.isValid,m=o.isInvalid,h=o.onChangeHandler,O=o.onBlurHandler,x=o.reset,p=I((function(e){return e.length>5})),g=p.value,y=p.isValid,k=p.isInvalid,S=p.onChangeHandler,w=p.onBlurHandler,B=p.reset;return Object(v.jsxs)("div",{className:N.a.formModal,children:[Object(v.jsx)("h1",{children:a?"Login":"Sign Up"}),Object(v.jsxs)("form",{onSubmit:function(n){var c;(n.preventDefault(),y||j)&&(l(!0),c=a?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBJS92owOW5SpmqXUS3gSDlkI-VHk8H0qM":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBJS92owOW5SpmqXUS3gSDlkI-VHk8H0qM",fetch(c,{method:"POST",body:JSON.stringify({email:d,password:g,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Could not send request");return e.json()})).then((function(n){var c=new Date((new Date).getTime()+1e3*+n.expiresIn);e.login(n.idToken,n.localId,c.toISOString()),t("/invoices",{replace:!0})})).catch((function(e){console.log(e.message)})),x(),B())},className:N.a.form,children:[Object(v.jsxs)("div",{className:N.a.formInput,children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{style:{border:m?"red":"none"},value:d,type:"email",id:"email",onChange:h,onBlur:O})]}),Object(v.jsxs)("div",{className:N.a.formInput,children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{style:{border:k?"red":"none"},value:g,type:"password",id:"password",onChange:S,onBlur:w})]}),Object(v.jsxs)("div",{className:N.a.actions,children:[Object(v.jsx)("button",{className:N.a.btnAction,children:a?"Login":"Sign Up "}),Object(v.jsx)("button",{className:N.a.btnToggle,onClick:function(){i((function(e){return!e}))},type:"button",children:a?"Create new account":"Login with existing account"})]})]})]})};var k=function(){return Object(v.jsx)(y,{})},S=n(12),w=n.n(S);var B=function(){var e=Object(C.f)();return Object(v.jsxs)("nav",{className:w.a.nav,children:[Object(v.jsx)("img",{className:w.a.navLogo,src:"/static/images/logo.svg",alt:""}),Object(v.jsxs)("div",{className:w.a.imgDiv,children:[Object(v.jsx)("img",{src:"/static/images/icon-sun.svg",alt:""}),Object(v.jsx)("div",{onClick:function(){e("/auth",{push:!0})},className:w.a.avatar,children:Object(v.jsx)("img",{src:"/static/images/image-avatar.jpg",alt:""})})]})]})};n(33);var F=function(e){return Object(v.jsxs)("div",{className:"emptyList",children:[Object(v.jsx)("img",{src:"/static/images/illustration-empty.svg",alt:""}),Object(v.jsxs)("span",{children:[Object(v.jsx)("h1",{children:e.header}),Object(v.jsx)("p",{children:e.text})]})]})};var D=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsx)(B,{})}),Object(v.jsx)(F,{header:"Click the avatar icon",text:"Login or create an accout to add invoices"})]})},T=n(18),V=n.n(T);n(34);var _=function(e){var t=Object(b.useState)(!1),n=Object(u.a)(t,2),c=n[0],a=n[1];return Object(v.jsxs)("div",{className:"filters",children:[Object(v.jsxs)("div",{onClick:function(){a((function(e){return!e}))},className:"filterTop",children:[Object(v.jsx)("span",{children:"Filter"}),Object(v.jsx)("img",{className:c?"rotate":"",src:"/static/images/icon-arrow-down.svg",alt:""})]}),c&&Object(v.jsxs)("div",{onClick:function(t){t.target.dataset.value&&e.onFilterValue(t.target.dataset.value)},className:"filterList",children:[Object(v.jsx)("p",{"data-value":"all",children:"All"}),Object(v.jsx)("p",{"data-value":"paid",children:"Paid"}),Object(v.jsx)("p",{"data-value":"pending",children:"Pending"}),Object(v.jsx)("p",{"data-value":"draft",children:"Draft"})]})]})};n(35);var H=function(e){var t=Object(b.useContext)(f),n=Object(s.c)((function(e){return e.allInvoice.totalInvoices}));return Object(v.jsxs)("div",{className:"container layout ",children:[Object(v.jsxs)("header",{className:"header",children:[Object(v.jsxs)("div",{className:"invo",children:[Object(v.jsx)("span",{children:"Invoices"}),Object(v.jsxs)("span",{className:"amount",children:[n," invoices"]})]}),Object(v.jsxs)("div",{className:"options",children:[Object(v.jsx)(_,{onFilterValue:function(t){e.getFilterValue(t)}}),Object(v.jsxs)("button",{onClick:e.openForm,children:[Object(v.jsx)("span",{children:Object(v.jsx)("img",{src:"/static/images/icon-plus.svg",alt:""})}),"New"]}),Object(v.jsx)("button",{onClick:function(){t.logout()},children:"Logout"})]})]}),Object(v.jsx)("main",{children:e.children})]})};n(36),n(37);var A=function(e){var t;t="Paid"===e.status?"green":"Pending"===e.status?"orange":"grey";var n=Object(C.f)(),c=function(){n("/invoices/".concat(e.id))};return Object(v.jsxs)("div",{onClick:c,className:"invoice",children:[Object(v.jsxs)("p",{className:"invoiceId",children:[Object(v.jsx)("span",{children:"#"}),e.id]}),Object(v.jsx)("p",{className:"name",children:e.toName}),Object(v.jsxs)("div",{className:"invoiceInfo",children:[Object(v.jsxs)("p",{className:"date",children:[Object(v.jsx)("span",{children:"Due"})," ",e.dueDate]}),Object(v.jsx)("p",{className:"amount",children:e.totalAmount})]}),Object(v.jsxs)("div",{className:"invoiceStatus",children:[Object(v.jsxs)("div",{className:"status ".concat(t),children:[Object(v.jsx)("span",{className:"dot"}),Object(v.jsx)("span",{className:"statusName",children:e.status})]}),Object(v.jsx)("img",{onClick:c,src:"/static/images/icon-arrow-right.svg",alt:""})]})]})};var P=function(e){return 0===e.invoices.length?Object(v.jsx)(F,{header:"There is nothing here",text:"Create on invoice by clicking the New button and get started"}):Object(v.jsx)("div",{className:" list",children:e.invoices.map((function(e){var t=e.itemList.map((function(e){return e.price*e.qty}));if(!(t.length<=0)){var n=t.reduce((function(e,t){return e+t})),c=m(e.invoiceDate,e.terms);return Object(v.jsx)(A,{id:e.id,toName:e.to.name,dueDate:c,totalAmount:"\xa3".concat(n),status:e.status},e.id)}}))})},L=n(9);n(20),n(21);var q=function(e){var t=Object(b.useState)(!1),n=Object(u.a)(t,2),c=n[0],a=n[1],i=Object(v.jsx)("p",{className:"errorText",children:"Input must not be empty"}),s=I((function(e){return""!==e.trim()})),r=s.value,l=s.isValid,o=s.isInvalid,d=s.onChangeHandler,j=s.onBlurHandler,m=s.reset,h=I((function(e){return e>0})),O=h.value,x=h.isValid,p=h.isInvalid,f=h.onChangeHandler,g=h.onBlurHandler,N=h.reset,C=I((function(e){return e>0})),y=C.value,k=C.isValid,S=C.isInvalid,w=C.onChangeHandler,B=C.onBlurHandler,F=C.reset,D=O*y,T=function(t){if(t.preventDefault(),l||x||k){a(!0);var n={itemName:r,qty:O,price:y,total:D,id:e.id};e.onItemValue(n,t),m(),N(),F()}};return Object(v.jsxs)("form",{onSubmit:T,className:"item",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"itemName",children:"Item Name"}),Object(v.jsx)("input",{value:r,type:"text",id:"itemName",onChange:d,onBlur:j}),o&&i]}),Object(v.jsxs)("div",{className:"itemGrid",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"qty",children:"Qty."}),Object(v.jsx)("input",{value:O,type:"number",id:"qty",min:"1",max:"10",onChange:f,onBlur:g}),p&&i]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"price",children:"Price"}),Object(v.jsx)("input",{value:y,type:"number",min:"1",max:"10",id:"price",onChange:w,onBlur:B}),S&&i]}),Object(v.jsxs)("div",{className:"total",children:[Object(v.jsx)("span",{children:"Total"}),Object(v.jsx)("p",{children:D})]}),Object(v.jsx)("button",{className:"removeItem",children:Object(v.jsx)("img",{onClick:function(t){t.preventDefault(),e.onDelete(e.id)},src:"/static/images/icon-delete.svg",alt:""})}),Object(v.jsxs)("button",{className:"btnAddToList",onClick:T,disabled:c,children:[!c&&Object(v.jsx)("img",{src:"/static/images/icon-plus.svg",alt:""}),c&&Object(v.jsx)("img",{src:"/static/images/icon-check.svg",alt:""})]})]})]})};var E=function(e){var t=Object(s.b)(),n=Math.floor(1e5+9e5*Math.random()),c=Object(b.useState)(["sampleComponent"]),a=Object(u.a)(c,2),i=a[0],r=a[1],l=Object(b.useState)([]),o=Object(u.a)(l,2),j=o[0],m=o[1],h=Object(b.useState)(),O=Object(u.a)(h,2),x=O[0],p=O[1],f=function(e){r((function(t){return t.filter((function(t,n){return n!==e}))}))},g=function(e){m((function(t){return[].concat(Object(L.a)(t),[e])}))},N=Object(v.jsx)("p",{className:"errorText",children:"Input must not be empty"}),C=I((function(e){return""!==e.trim()})),y=C.value,k=C.isValid,S=C.isInvalid,w=C.onChangeHandler,B=C.onBlurHandler,F=C.reset,D=I((function(e){return""!==e.trim()})),T=D.value,V=D.isValid,_=D.isInvalid,H=D.onChangeHandler,A=D.onBlurHandler,P=D.reset,E=I((function(e){return""!==e.trim()})),M=E.value,G=E.isValid,J=E.isInvalid,U=E.onChangeHandler,X=E.onBlurHandler,W=E.reset,Q=I((function(e){return""!==e.trim()})),R=Q.value,z=Q.isValid,Y=Q.isInvalid,K=Q.onChangeHandler,Z=Q.onBlurHandler,$=Q.reset,ee=I((function(e){return""!==e.trim()})),te=ee.value,ne=ee.isValid,ce=ee.isInvalid,ae=ee.onChangeHandler,ie=ee.onBlurHandler,se=ee.reset,re=I((function(e){return e.includes("@")})),le=re.value,oe=re.isValid,de=re.isInvalid,je=re.onChangeHandler,ue=re.onBlurHandler,be=re.reset,me=I((function(e){return""!==e.trim()})),he=me.value,Oe=me.isValid,ve=me.isInvalid,xe=me.onChangeHandler,pe=me.onBlurHandler,fe=me.reset,ge=I((function(e){return""!==e.trim()})),Ne=ge.value,Ie=ge.isValid,Ce=ge.isInvalid,ye=ge.onChangeHandler,ke=ge.onBlurHandler,Se=ge.reset,we=I((function(e){return""!==e.trim()})),Be=we.value,Fe=we.isValid,De=we.isInvalid,Te=we.onChangeHandler,Ve=we.onBlurHandler,_e=we.reset,He=I((function(e){return""!==e.trim()})),Ae=He.value,Pe=He.isValid,Le=He.isInvalid,qe=He.onChangeHandler,Ee=He.onBlurHandler,Me=He.reset,Ge=I((function(e){return""!==e.trim()})),Je=Ge.value,Ue=Ge.isValid,Xe=Ge.isInvalid,We=Ge.onChangeHandler,Qe=Ge.onBlurHandler,Re=Ge.reset,ze=I((function(e){return""!==e.trim()})),Ye=ze.value,Ke=ze.isValid,Ze=ze.isInvalid,$e=ze.onChangeHandler,et=ze.onBlurHandler,tt=ze.reset,nt=function(){F(),P(),W(),$(),Me(),be(),se(),fe(),Se(),_e(),Me(),Re(),p(""),tt(),m([]),e.closeForm()},ct=["backdrop",e.show?"BackdropOpen":"BackdropClosed"],at=["formModal",e.show?"ModalOpen":"ModalClosed"];return Object(v.jsxs)(b.Fragment,{children:[e.show&&Object(v.jsx)("div",{onClick:e.closeForm,className:ct.join(" ")}),e.show&&Object(v.jsxs)("div",{className:at.join(" "),children:[Object(v.jsxs)("button",{onClick:e.closeForm,className:"backBtn",children:[Object(v.jsx)("img",{src:"/static/images/icon-arrow-left.svg",alt:""}),"Go Back"]}),Object(v.jsx)("h2",{children:"New Invoice"}),Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)("p",{children:"Bill Form"}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"address",children:"Street Address"}),Object(v.jsx)("input",{value:y,type:"text",id:"address",onChange:w,onBlur:B}),S&&N]}),Object(v.jsxs)("div",{className:"formGrid",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{value:T,type:"text",id:"city",onChange:H,onBlur:A}),_&&N]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"postCode",children:"Post Code"}),Object(v.jsx)("input",{value:M,type:"text",id:"postCode",onChange:U,onBlur:X}),J&&N]})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{value:R,type:"text",id:"country",onChange:K,onBlur:Z}),Y&&N]}),Object(v.jsx)("p",{children:"Bill To"}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientName",children:"Client's Name"}),Object(v.jsx)("input",{value:te,type:"text",id:"clientName",onChange:ae,onBlur:ie}),ce&&N]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientEmail",children:"Client's Email"}),Object(v.jsx)("input",{value:le,type:"email",id:"clientEmail",onChange:je,onBlur:ue}),de&&N]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientAddress",children:"Street Address"}),Object(v.jsx)("input",{value:he,type:"text",id:"clientAddress",onChange:xe,onBlur:pe}),ve&&N]}),Object(v.jsxs)("div",{className:"formGrid",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientCity",children:"City"}),Object(v.jsx)("input",{value:Ne,type:"text",id:"clientCity",onChange:ye,onBlur:ke}),Ce&&N]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientPostCode",children:"Post Code"}),Object(v.jsx)("input",{value:Be,type:"text",id:"clientPostCode",onChange:Te,onBlur:Ve}),De&&N]})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientCountry",children:"Country"}),Object(v.jsx)("input",{value:Ae,type:"text",id:"clientCountry",onChange:qe,onBlur:Ee}),Le&&N]}),Object(v.jsxs)("div",{className:"formGrid",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"invoiceDate",children:"Invoice Date"}),Object(v.jsx)("input",{value:Je,type:"date",id:"invoiceDate",onChange:We,onBlur:Qe}),Xe&&N]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"paymentTerm",children:"Payment Term"}),Object(v.jsxs)("select",{onChange:function(e){e.target.value&&p(e.target.value)},children:[Object(v.jsx)("option",{value:"1",children:"Net 1 day"}),Object(v.jsx)("option",{value:"7",children:"Net 7 days"}),Object(v.jsx)("option",{value:"30",children:"Net 30 days"})]})]})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Project Description"}),Object(v.jsx)("input",{value:Ye,type:"text",id:"description",onChange:$e,onBlur:et}),Ze&&N]}),Object(v.jsx)("h2",{children:"Item List"}),Object(v.jsx)("div",{className:"itemList",children:i.map((function(e,t){return Object(v.jsx)(q,{id:t,onDelete:f,onItemValue:g},t)}))}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),r((function(e){return[].concat(Object(L.a)(e),["sampleComponent"])}))},className:"btnAdd",children:"+ Add New item"}),Object(v.jsxs)("div",{className:"btnBox",children:[Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),nt()},className:"btnDiscard",children:"Discard"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:function(){if(k&&V&&G&&z&&ne&&oe&&Oe&&Ie&&Fe&&Pe&&Ue&&Ke&&""!==x&&!(j.length<=0)){var e={from:{address:y,city:T,postCode:M,country:R},to:{mail:le,name:te,address:he,city:Ne,postCode:Be,country:Ae},invoiceDate:Je,terms:x,desc:Ye,itemList:j,status:"Draft",id:n.toString()};t(d.addInvoice(e)),nt()}},className:"btnDraft",children:"Save as draft"}),Object(v.jsx)("button",{onClick:function(){if(k&&V&&G&&z&&ne&&oe&&Oe&&Ie&&Fe&&Pe&&Ue&&Ke&&""!==x&&!(j.length<=0)){var e={from:{address:y,city:T,postCode:M,country:R},to:{mail:le,name:te,address:he,city:Ne,postCode:Be,country:Ae},invoiceDate:Je,terms:x,desc:Ye,itemList:j,status:"Pending",id:n.toString()};t(d.addInvoice(e)),nt()}},className:"btnSend",children:"Save & Send"})]})]})]})]})]})};var M=function(){var e=Object(b.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(b.useState)(!1),i=Object(u.a)(a,2),r=i[0],l=i[1],o=Object(s.c)((function(e){return e.allInvoice.invoices})).filter((function(e){return"all"===n?e:e.status.toLowerCase().includes(n)}));return Object(v.jsxs)("div",{className:V.a.home,children:[Object(v.jsx)("div",{className:V.a.navBar,children:Object(v.jsx)(B,{})}),Object(v.jsx)("div",{children:Object(v.jsx)(H,{openForm:function(){l(!0)},getFilterValue:function(e){c(e)},children:Object(v.jsx)(P,{invoices:o})})}),Object(v.jsx)(E,{closeForm:function(){l(!1)},show:r})]})};n(38);var G=function(e){var t=Object(C.g)(),n=Object(s.b)(),c=Object(C.f)(),a=t.invoiceId,i=Object(s.c)((function(e){return e.allInvoice.invoices})).filter((function(e){return e.id===a})),r=i[0],l=m(r.invoiceDate,r.terms),o=r.itemList.map((function(e){return e.price*e.qty}));if(!(o.length<=0)){var j,u=o.reduce((function(e,t){return e+t})),h=function(){n(d.deleteInvoice(r.id)),c("/invoices",{replace:!0})},O=function(){n(d.markInvoiceAsPaid(r.id))};j="Paid"===r.status?"green":"Pending"===r.status?"orange":"grey";var x="Paid"===r.status;return Object(v.jsxs)("div",{className:"container allDetails",children:[Object(v.jsxs)("button",{onClick:e.onGoBack,className:"backBtn",children:[Object(v.jsx)("img",{src:"/static/images/icon-arrow-left.svg",alt:""}),"Go Back"]}),Object(v.jsxs)("div",{className:"btnDiv",children:[Object(v.jsxs)("div",{className:"statusDiv",children:[Object(v.jsx)("p",{children:"Status"}),Object(v.jsxs)("div",{className:"status ".concat(j),children:[Object(v.jsx)("span",{className:"dot"}),Object(v.jsx)("span",{className:"statusName",children:r.status})]})]}),Object(v.jsxs)("div",{className:"statusFunctions btnTop",children:[!x&&Object(v.jsx)("button",{onClick:e.openForm,className:"editInvoiceBtn",children:"Edit"}),Object(v.jsx)("button",{onClick:h,className:"deleteBtn",children:"Delete"}),!x&&Object(v.jsx)("button",{onClick:O,className:"markBtn",children:"Mark as paid"})]})]}),Object(v.jsxs)("div",{className:"details",children:[Object(v.jsxs)("div",{className:"clientInfo",children:[Object(v.jsxs)("span",{children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{children:"#"}),r.id]}),Object(v.jsx)("p",{children:"Landing Page Design"})]}),Object(v.jsxs)("span",{className:"clientShit",children:[Object(v.jsx)("p",{children:r.from.address}),Object(v.jsx)("p",{children:r.from.city}),Object(v.jsx)("p",{children:r.from.country}),Object(v.jsx)("p",{children:r.from.postCode})]})]}),Object(v.jsxs)("div",{className:"recieverInfo",children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:"Invoice Date"}),Object(v.jsx)("p",{className:"answer",children:r.invoiceDate})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:"Bill To"}),Object(v.jsx)("p",{className:"answer",children:r.to.name})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:"Payment Due"}),Object(v.jsx)("p",{className:"answer",children:l})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:r.to.address}),Object(v.jsx)("p",{children:r.to.city}),Object(v.jsx)("p",{children:r.to.postCode}),Object(v.jsx)("p",{className:"countryName",children:r.to.country})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:"Send To"}),Object(v.jsx)("p",{className:"answer",children:r.to.mail})]})]})]}),Object(v.jsxs)("div",{className:"checkout",children:[r.itemList.map((function(e){return Object(v.jsx)(b.Fragment,{children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:e.itemName}),Object(v.jsxs)("p",{className:"checkoutAmount",children:[Object(v.jsx)("span",{children:e.qty}),Object(v.jsx)("span",{children:"X"}),"\xa3",e.price]})]}),Object(v.jsxs)("p",{children:["\xa3",e.price*e.qty]})]})},e.id)})),Object(v.jsxs)("div",{className:"grandTotal",children:[Object(v.jsx)("p",{children:"Grand Total"}),Object(v.jsxs)("p",{className:"total",children:["\xa3",u]})]})]}),Object(v.jsxs)("div",{className:"checkout_desktop",children:[r.itemList.map((function(e){return Object(v.jsxs)("div",{className:"priceInfo",children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:"Item Name"}),Object(v.jsx)("p",{children:e.itemName})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:"QTY."}),Object(v.jsx)("p",{children:e.qty})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:"Price"}),Object(v.jsxs)("p",{children:["\xa3",e.price]})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("p",{children:"Total"}),Object(v.jsxs)("p",{children:["\xa3",e.price*e.qty]})]})]},e.id)})),Object(v.jsxs)("div",{className:"grandTotal",children:[Object(v.jsx)("p",{children:"Amount Due"}),Object(v.jsxs)("p",{className:"total",children:["\xa3",u]})]})]}),Object(v.jsxs)("div",{className:"split",children:[Object(v.jsx)("div",{}),Object(v.jsxs)("div",{className:"statusFunctions btnBottom",children:[Object(v.jsx)("button",{onClick:e.openForm,className:"editInvoiceBtn",children:"Edit"}),Object(v.jsx)("button",{onClick:h,className:"deleteBtn",children:"Delete"}),!x&&Object(v.jsx)("button",{onClick:O,className:"markBtn",children:"Mark as paid"})]})]})]})}},J=n(19),U=n.n(J);var X=function(e){var t=Object(b.useState)(!1),n=Object(u.a)(t,2),c=n[0],a=n[1],i=e.price*e.qty,s=Object(b.useRef)(),r=Object(b.useRef)(),l=Object(b.useRef)();return Object(v.jsxs)("div",{className:"item",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"itemName",children:"Item Name"}),Object(v.jsx)("input",{defaultValue:e.itemName,type:"text",id:"itemName",ref:s})]}),Object(v.jsxs)("div",{className:"itemGrid",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"qty",children:"Qty."}),Object(v.jsx)("input",{defaultValue:e.qty,type:"number",id:"qty",ref:r})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"price",children:"Price"}),Object(v.jsx)("input",{defaultValue:e.price,type:"number",id:"price",ref:l})]}),Object(v.jsxs)("div",{className:"total",children:[Object(v.jsx)("span",{children:"Total"}),Object(v.jsx)("p",{children:i})]}),Object(v.jsx)("button",{className:"removeItem",children:Object(v.jsx)("img",{src:"/static/images/icon-delete.svg",alt:""})}),Object(v.jsxs)("button",{className:"btnAddToList",onClick:function(){if(""!==s.current.value||""!==r.current.value||""!==l.current.value){a(!0);var t={itemName:s.current.value,qty:r.current.value,price:l.current.value,total:i,id:e.id};e.onItemValue(t)}},disabled:c,children:[!c&&Object(v.jsx)("img",{src:"/static/images/icon-plus.svg",alt:""}),c&&Object(v.jsx)("img",{src:"/static/images/icon-check.svg",alt:""})]})]})]})};var W=function(e){var t=Object(C.g)(),n=Object(s.b)(),c=t.invoiceId,a=Object(s.c)((function(e){return e.allInvoice.invoices})).filter((function(e){return e.id===c})),i=a[0],r=Object(b.useState)([]),l=Object(u.a)(r,2),o=l[0],j=l[1],m=Object(b.useState)(["sampleComponent"]),h=Object(u.a)(m,2),O=h[0],x=h[1],p=function(e){x((function(t){return t.filter((function(t,n){return n!==e}))}))},f=function(e){j((function(t){return[].concat(Object(L.a)(t),[e])}))},g=function(e){j((function(t){return[].concat(Object(L.a)(t),[e])}))},N=function(e){var t=new Date(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),c=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(t),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t);return"".concat(a,"-").concat(c,"-").concat(n)}(i.invoiceDate),I=Object(b.useState)(i.from.address),y=Object(u.a)(I,2),k=y[0],S=y[1],w=Object(b.useState)(i.from.city),B=Object(u.a)(w,2),F=B[0],D=B[1],T=Object(b.useState)(i.from.postCode),V=Object(u.a)(T,2),_=V[0],H=V[1],A=Object(b.useState)(i.from.country),P=Object(u.a)(A,2),E=P[0],M=P[1],G=Object(b.useState)(i.to.name),J=Object(u.a)(G,2),U=J[0],W=J[1],Q=Object(b.useState)(i.to.mail),R=Object(u.a)(Q,2),z=R[0],Y=R[1],K=Object(b.useState)(i.to.address),Z=Object(u.a)(K,2),$=Z[0],ee=Z[1],te=Object(b.useState)(i.to.city),ne=Object(u.a)(te,2),ce=ne[0],ae=ne[1],ie=Object(b.useState)(i.to.postCode),se=Object(u.a)(ie,2),re=se[0],le=se[1],oe=Object(b.useState)(i.to.country),de=Object(u.a)(oe,2),je=de[0],ue=de[1],be=Object(b.useState)(N),me=Object(u.a)(be,2),he=me[0],Oe=me[1],ve=Object(b.useState)(i.terms),xe=Object(u.a)(ve,2),pe=xe[0],fe=xe[1],ge=Object(b.useState)(i.desc),Ne=Object(u.a)(ge,2),Ie=Ne[0],Ce=Ne[1],ye=["backdrop",e.show?"BackdropOpen":"BackdropClosed"],ke=["formModal",e.show?"ModalOpen":"ModalClosed"];return Object(v.jsxs)(b.Fragment,{children:[e.show&&Object(v.jsx)("div",{onClick:e.closeForm,className:ye.join(" ")}),e.show&&Object(v.jsxs)("div",{className:ke.join(" "),children:[Object(v.jsxs)("button",{className:"backBtn",children:[Object(v.jsx)("img",{src:"/static/images/icon-arrow-left.svg",alt:""}),"Go Back"]}),Object(v.jsxs)("h2",{children:["Edit #",i.id]}),Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)("p",{children:"Bill Form"}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"address",children:"Street Address"}),Object(v.jsx)("input",{defaultValue:k,type:"text",id:"address",onChange:function(e){S(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formGrid",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"city",children:"City"}),Object(v.jsx)("input",{defaultValue:F,type:"text",id:"city",onChange:function(e){D(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"postCode",children:"Post Code"}),Object(v.jsx)("input",{defaultValue:_,type:"text",id:"postCode",onChange:function(e){H(e.target.value)}})]})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"country",children:"Country"}),Object(v.jsx)("input",{defaultValue:E,type:"text",id:"country",onChange:function(e){M(e.target.value)}})]}),Object(v.jsx)("p",{children:"Bill To"}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientName",children:"Client's Name"}),Object(v.jsx)("input",{defaultValue:U,type:"text",id:"clientName",onChange:function(e){W(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientEmail",children:"Client's Email"}),Object(v.jsx)("input",{defaultValue:z,type:"email",id:"clientEmail",onChange:function(e){Y(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientAddress",children:"Street Address"}),Object(v.jsx)("input",{defaultValue:$,type:"text",id:"clientAddress",onChange:function(e){ee(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formGrid",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientCity",children:"City"}),Object(v.jsx)("input",{defaultValue:ce,type:"text",id:"clientCity",onChange:function(e){ae(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientPostCode",children:"Post Code"}),Object(v.jsx)("input",{defaultValue:re,type:"text",id:"clientPostCode",onChange:function(e){le(e.target.value)}})]})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"clientCountry",children:"Country"}),Object(v.jsx)("input",{defaultValue:je,type:"text",id:"clientCountry",onChange:function(e){ue(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formGrid",children:[Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"invoiceDate",children:"Invoice Date"}),Object(v.jsx)("input",{type:"date",id:"invoiceDate",defaultValue:he,onChange:function(e){Oe(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"paymentTerm",children:"Payment Term"}),Object(v.jsxs)("select",{onClick:function(e){e.target.value&&fe(e.target.value)},defaultValue:pe,children:[Object(v.jsx)("option",{value:"1",children:"Net 1 day"}),Object(v.jsx)("option",{value:"7",children:"Net 7 days"}),Object(v.jsx)("option",{value:"30",children:"Net 30 days"})]})]})]}),Object(v.jsxs)("div",{className:"formInput",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Project Description"}),Object(v.jsx)("input",{defaultValue:Ie,type:"text",id:"description",onChange:function(e){Ce(e.target.value)}})]}),Object(v.jsx)("h2",{children:"Item List"}),Object(v.jsxs)("div",{className:"itemList",children:[i.itemList.map((function(e,t){return Object(v.jsx)(X,{itemName:e.itemName,qty:e.qty,price:e.price,onItemValue:g},t)})),O.map((function(e,t){return Object(v.jsx)(q,{id:t,onDelete:p,onItemValue:f},t)}))]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),x((function(e){return[].concat(Object(L.a)(e),["sampleComponent"])}))},className:"btnAdd",children:"+ Add New item"}),Object(v.jsxs)("div",{className:"btnBox",children:[Object(v.jsx)("div",{}),Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:e.closeForm,className:"btnCancel",children:"Cancel"}),Object(v.jsx)("button",{disabled:o.length<=0,onClick:function(){if(!(""===k&&""===F&&""===_&&""===E&&""===U&&""===z&&""===$&&""===ce&&""===re&&""===je&&""===he&&""===Ie&&""===pe&&o.length<=0)){var t={from:{address:k,city:F,postCode:_,country:E},to:{mail:z,name:U,address:$,city:ce,postCode:re,country:je},invoiceDate:he,terms:pe,desc:Ie,itemList:o,status:i.status,id:i.id};n(d.updateInvoice(t)),e.closeForm()}},className:"btnSaveChanges",children:"Save Changes"})]})]})]})]})]})};var Q=function(){var e=Object(b.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(C.f)();return window.onload=function(){window.location="/invoices"},Object(v.jsxs)("div",{className:U.a.invoice,children:[Object(v.jsx)("div",{className:U.a.navBar,children:Object(v.jsx)(B,{})}),Object(v.jsx)(G,{onGoBack:function(){a("/invoices",{replace:!0})},openForm:function(){c(!0)}}),Object(v.jsx)(W,{closeForm:function(){c(!1)},show:n})]})},R=n(13),z=n(7),Y=n.n(z),K=!0;var Z=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.allInvoice})),n=Object(b.useContext)(f);return Object(b.useEffect)((function(){var t;e((t="https://invoices-49204-default-rtdb.firebaseio.com/".concat(n.localId,".json"),function(){var e=Object(R.a)(Y.a.mark((function e(n){var c,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){var e=Object(R.a)(Y.a.mark((function e(){var n,c,a,i,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Something went wrong...");case 5:return e.next=7,n.json();case 7:for(i in c=e.sent,console.log(c),a=[],c)a.push(c[i].invoices);return s=a[0].map((function(e){return e})),console.log(s),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,c();case 4:a=e.sent,n(d.replaceInvoices({invoices:a||[],totalInvoices:a.length})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Could not get invoice"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,n.localId]),Object(b.useEffect)((function(){K?K=!1:t.changed&&e(function(e,t){return Object(R.a)(Y.a.mark((function n(){var c;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(){var n=Object(R.a)(Y.a.mark((function n(){return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t,{method:"PUT",body:JSON.stringify({invoices:e,totalInvoices:e.length})});case 2:if(n.sent.ok){n.next=5;break}throw new Error("Something went wrong...");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=1,n.next=4,c();case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.log("Could not send invoice"),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})))}(t,"https://invoices-49204-default-rtdb.firebaseio.com/".concat(n.localId,".json")))}),[e,t,n.localId]),Object(v.jsxs)(C.c,{children:[Object(v.jsx)(C.a,{path:"/",element:Object(v.jsx)(D,{})}),!n.isLoggedIn&&Object(v.jsx)(C.a,{path:"/auth",element:Object(v.jsx)(k,{})}),Object(v.jsx)(C.a,{path:"/invoices",element:n.isLoggedIn?Object(v.jsx)(M,{}):Object(v.jsx)(k,{})}),Object(v.jsx)(C.a,{path:"/invoices/:invoiceId",element:Object(v.jsx)(Q,{})})]})};a.a.render(Object(v.jsx)(p,{children:Object(v.jsx)(i.a,{children:Object(v.jsx)(s.a,{store:j,children:Object(v.jsx)(Z,{})})})}),document.getElementById("root"))}],[[40,1,2]]]);
//# sourceMappingURL=main.049961ff.chunk.js.map