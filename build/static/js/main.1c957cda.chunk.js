(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={formModal:"AuthForm_formModal__78CxL",form:"AuthForm_form__3ZLEX",formInput:"AuthForm_formInput__3aDfe",actions:"AuthForm_actions__1VNhY",btnAction:"AuthForm_btnAction__2hrA7",btnToggle:"AuthForm_btnToggle__2aCAg"}},,,,function(e,t,n){e.exports={nav:"Nav_nav__WI6aX",navLogo:"Nav_navLogo__wosKO",imgDiv:"Nav_imgDiv__3eSF8",avatar:"Nav_avatar__1VOSE"}},,,,,,function(e,t,n){e.exports={home:"InvoicesPage_home__2Eh64",navBar:"InvoicesPage_navBar__32wDS"}},function(e,t,n){e.exports={invoice:"Invoice_invoice__2yATv",navBar:"Invoice_navBar__1BTN9"}},function(e,t,n){},function(e,t,n){},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(14),s=n.n(c),i=n(23),a=n(4),r=n(15),l=Object(r.b)({name:"invoices",initialState:{invoices:[],totalInvoices:0,changed:!1},reducers:{replaceInvoices:function(e,t){e.invoices=t.payload.invoices,e.totalInvoices=t.payload.totalInvoices},addInvoice:function(e,t){var n=t.payload;e.invoices.find((function(e){return e.id===n.id}))||(e.invoices.push(n),e.totalInvoices++),e.changed=!0},deleteInvoice:function(e,t){var n=t.payload;e.invoices.find((function(e){return e.id===n}))&&(e.invoices=e.invoices.filter((function(e){return e.id!==n})),e.totalInvoices--),e.changed=!0},markInvoiceAsPaid:function(e,t){var n=t.payload,c=e.invoices.findIndex((function(e){return e.id===n}));e.invoices[c]&&(e.invoices[c].status="Paid"),e.changed=!0},updateInvoice:function(e,t){var n=t.payload,c=e.invoices.findIndex((function(e){return e.id===n.id}));e.invoices[c]&&(e.invoices[c]=n),e.changed=!0}}}),o=Object(r.a)({reducer:{allInvoice:l.reducer}}),d=l.actions,j=o,u=n(3),b=n(1),m=n(0),h=Object(b.createContext)({token:"",localId:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),O=function(e){var t=Object(b.useState)(null),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(b.useState)(null),a=Object(u.a)(i,2),r=a[0],l=a[1],o={token:c,localId:r,isLoggedIn:!!c&&!!r,login:function(e,t){s(e),l(t)},logout:Object(b.useCallback)((function(){s(null),l(null)}),[])};return Object(m.jsx)(h.Provider,{value:o,children:e.children})},v=h,x=(n(32),n(8)),p=n.n(x);var f=function(e){var t=Object(b.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(b.useState)(!1),a=Object(u.a)(i,2),r=a[0],l=a[1],o=e(c);return{value:c,isValid:o,isInvalid:!o&&r,onChangeHandler:function(e){s(e.target.value)},onBlurHandler:function(e){l(!0)},reset:function(){s(""),l(!1)}}},g=n(2);var N=function(){var e=Object(b.useContext)(v),t=Object(g.g)(),n=Object(b.useState)(!0),c=Object(u.a)(n,2),s=c[0],i=c[1],a=Object(b.useState)(!1),r=Object(u.a)(a,2),l=(r[0],r[1]),o=f((function(e){return e.includes("@gmail.com")||e.includes("@yahoo.com")})),d=o.value,j=o.isValid,h=o.isInvalid,O=o.onChangeHandler,x=o.onBlurHandler,N=o.reset,y=f((function(e){return e.length>5})),C=y.value,I=y.isValid,k=y.isInvalid,B=y.onChangeHandler,S=y.onBlurHandler,F=y.reset;return Object(m.jsxs)("div",{className:p.a.formModal,children:[Object(m.jsx)("h1",{children:s?"Login":"Sign Up"}),Object(m.jsxs)("form",{onSubmit:function(n){var c;(n.preventDefault(),I||j)&&(l(!0),c=s?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBJS92owOW5SpmqXUS3gSDlkI-VHk8H0qM":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBJS92owOW5SpmqXUS3gSDlkI-VHk8H0qM",fetch(c,{method:"POST",body:JSON.stringify({email:d,password:C,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Could not send request");return e.json()})).then((function(n){e.login(n.idToken,n.localId),t("/invoices",{replace:!0})})).catch((function(e){console.log(e.message)})),N(),F())},className:p.a.form,children:[Object(m.jsxs)("div",{className:p.a.formInput,children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email"}),Object(m.jsx)("input",{style:{border:h?"red":"none"},value:d,type:"email",id:"email",onChange:O,onBlur:x})]}),Object(m.jsxs)("div",{className:p.a.formInput,children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{style:{border:k?"red":"none"},value:C,type:"password",id:"password",onChange:B,onBlur:S})]}),Object(m.jsxs)("div",{className:p.a.actions,children:[Object(m.jsx)("button",{className:p.a.btnAction,children:s?"Login":"Sign Up "}),Object(m.jsx)("button",{className:p.a.btnToggle,onClick:function(){i((function(e){return!e}))},type:"button",children:s?"Create new account":"Login with existing account"})]})]})]})};var y=function(){return Object(m.jsx)(N,{})},C=n(12),I=n.n(C);var k=function(){return Object(m.jsxs)("nav",{className:I.a.nav,children:[Object(m.jsx)("img",{className:I.a.navLogo,src:"/static/images/logo.svg",alt:""}),Object(m.jsxs)("div",{className:I.a.imgDiv,children:[Object(m.jsx)("img",{src:"/static/images/icon-sun.svg",alt:""}),Object(m.jsx)("div",{className:I.a.avatar,children:Object(m.jsx)("img",{src:"/static/images/image-avatar.jpg",alt:""})})]})]})};n(33);var B=function(e){return Object(m.jsxs)("div",{className:"emptyList",children:[Object(m.jsx)("img",{src:"/static/images/illustration-empty.svg",alt:""}),Object(m.jsxs)("span",{className:"emptytitle",children:[Object(m.jsx)("h1",{children:e.header}),Object(m.jsx)("p",{children:e.text})]}),Object(m.jsxs)("button",{style:{display:e.display},onClick:e.handleClick,children:[Object(m.jsx)("span",{children:Object(m.jsx)("img",{src:"/static/images/icon-plus.svg",alt:""})}),e.task]})]})};var S=function(){var e=Object(g.g)();return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)(k,{})}),Object(m.jsx)(B,{header:"Click the avatar icon",text:"Login or create an accout to add invoices",display:"inline-flex",task:"Login or Sign up",handleClick:function(){e("/auth",{push:!0})}})]})},F=n(18),w=n.n(F);n(34);var D=function(e){var t=Object(b.useState)(!1),n=Object(u.a)(t,2),c=n[0],s=n[1];return Object(m.jsxs)("div",{className:"filters",children:[Object(m.jsxs)("div",{onClick:function(){s((function(e){return!e}))},className:"filterTop",children:[Object(m.jsx)("span",{children:"Filter"}),Object(m.jsx)("img",{className:c?"rotate":"",src:"/static/images/icon-arrow-down.svg",alt:""})]}),c&&Object(m.jsxs)("div",{onClick:function(t){t.target.dataset.value&&e.onFilterValue(t.target.dataset.value)},className:"filterList",children:[Object(m.jsx)("p",{"data-value":"all",children:"All"}),Object(m.jsx)("p",{"data-value":"paid",children:"Paid"}),Object(m.jsx)("p",{"data-value":"pending",children:"Pending"}),Object(m.jsx)("p",{"data-value":"draft",children:"Draft"})]})]})};n(35);var V=function(e){var t=Object(b.useContext)(v),n=Object(a.c)((function(e){return e.allInvoice.totalInvoices}));return Object(m.jsxs)("div",{className:"container layout ",children:[Object(m.jsxs)("header",{className:"header",children:[Object(m.jsxs)("div",{className:"invo",children:[Object(m.jsx)("span",{children:"Invoices"}),Object(m.jsxs)("span",{className:"amount",children:[n," invoices"]})]}),Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)(D,{onFilterValue:function(t){e.getFilterValue(t)}}),Object(m.jsxs)("button",{onClick:e.openForm,children:[Object(m.jsx)("span",{children:Object(m.jsx)("img",{src:"/static/images/icon-plus.svg",alt:""})}),"New"]}),Object(m.jsx)("button",{onClick:function(){t.logout()},children:"Logout"})]})]}),Object(m.jsx)("main",{children:e.children})]})};n(36),n(37);var _=function(e){var t;t="Paid"===e.status?"green":"Pending"===e.status?"orange":"grey";var n=Object(g.g)(),c=function(){n("/invoices/".concat(e.id))};return Object(m.jsxs)("div",{onClick:c,className:"invoice",children:[Object(m.jsxs)("p",{className:"invoiceId",children:[Object(m.jsx)("span",{children:"#"}),e.id]}),Object(m.jsx)("p",{className:"name",children:e.toName}),Object(m.jsxs)("div",{className:"invoiceInfo",children:[Object(m.jsxs)("p",{className:"date",children:[Object(m.jsx)("span",{children:"Due"})," ",e.dueDate]}),Object(m.jsx)("p",{className:"amount",children:e.totalAmount})]}),Object(m.jsxs)("div",{className:"invoiceStatus",children:[Object(m.jsxs)("div",{className:"status ".concat(t),children:[Object(m.jsx)("span",{className:"dot"}),Object(m.jsx)("span",{className:"statusName",children:e.status})]}),Object(m.jsx)("img",{onClick:c,src:"/static/images/icon-arrow-right.svg",alt:""})]})]})};function H(e,t){var n=function(e){var t=new Intl.DateTimeFormat(navigator.language||"eu",{month:"short",year:"numeric",day:"2-digit"}),n=new Date(e);return t.format(n)}(24*t*60*60*1e3+new Date(e).getTime());return n}var T=function(e){return e.invoices.length<=0?Object(m.jsx)(B,{display:"none",header:"There is nothing here",text:"Create on invoice by clicking the New button and get started"}):Object(m.jsx)("div",{className:" list",children:e.invoices.map((function(e){var t=e.itemList.map((function(e){return e.price*e.qty}));if(!(t.length<=0)){var n=t.reduce((function(e,t){return e+t})),c=H(e.invoiceDate,e.terms);return Object(m.jsx)(_,{id:e.id,toName:e.to.name,dueDate:c,totalAmount:"\xa3".concat(n),status:e.status},e.id)}}))})},A=n(9);n(20),n(21);var P=function(e){var t=Object(b.useState)(!1),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(m.jsx)("p",{className:"errorText",children:"Input must not be empty"}),a=f((function(e){return""!==e.trim()})),r=a.value,l=a.isValid,o=a.isInvalid,d=a.onChangeHandler,j=a.onBlurHandler,h=a.reset,O=f((function(e){return e>0})),v=O.value,x=O.isValid,p=O.isInvalid,g=O.onChangeHandler,N=O.onBlurHandler,y=O.reset,C=f((function(e){return e>0})),I=C.value,k=C.isValid,B=C.isInvalid,S=C.onChangeHandler,F=C.onBlurHandler,w=C.reset,D=v*I,V=function(t){if(t.preventDefault(),l||x||k){s(!0);var n={itemName:r,qty:v,price:I,total:D,id:e.id};e.onItemValue(n,t),h(),y(),w()}};return Object(m.jsxs)("form",{onSubmit:V,className:"item",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"itemName",children:"Item Name"}),Object(m.jsx)("input",{value:r,type:"text",id:"itemName",onChange:d,onBlur:j}),o&&i]}),Object(m.jsxs)("div",{className:"itemGrid",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"qty",children:"Qty."}),Object(m.jsx)("input",{value:v,type:"number",id:"qty",min:"1",max:"10",onChange:g,onBlur:N}),p&&i]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"price",children:"Price"}),Object(m.jsx)("input",{value:I,type:"number",min:"1",max:"10",id:"price",onChange:S,onBlur:F}),B&&i]}),Object(m.jsxs)("div",{className:"total",children:[Object(m.jsx)("span",{children:"Total"}),Object(m.jsx)("p",{children:D})]}),Object(m.jsx)("button",{className:"removeItem",children:Object(m.jsx)("img",{onClick:function(t){t.preventDefault(),e.onDelete(e.id)},src:"/static/images/icon-delete.svg",alt:""})}),Object(m.jsxs)("button",{className:"btnAddToList",onClick:V,disabled:c,children:[!c&&Object(m.jsx)("img",{src:"/static/images/icon-plus.svg",alt:""}),c&&Object(m.jsx)("img",{src:"/static/images/icon-check.svg",alt:""})]})]})]})};var L=function(e){var t=Object(a.b)(),n=Math.floor(1e5+9e5*Math.random()),c=Object(b.useState)(["sampleComponent"]),s=Object(u.a)(c,2),i=s[0],r=s[1],l=Object(b.useState)([]),o=Object(u.a)(l,2),j=o[0],h=o[1],O=Object(b.useState)("1"),v=Object(u.a)(O,2),x=v[0],p=v[1],g=function(e){r((function(t){return t.filter((function(t,n){return n!==e}))}))},N=function(e){h((function(t){return[].concat(Object(A.a)(t),[e])}))},y=Object(m.jsx)("p",{className:"errorText",children:"Input must not be empty"}),C=f((function(e){return""!==e.trim()})),I=C.value,k=C.isValid,B=C.isInvalid,S=C.onChangeHandler,F=C.onBlurHandler,w=C.reset,D=f((function(e){return""!==e.trim()})),V=D.value,_=D.isValid,H=D.isInvalid,T=D.onChangeHandler,L=D.onBlurHandler,q=D.reset,E=f((function(e){return""!==e.trim()})),M=E.value,G=E.isValid,J=E.isInvalid,U=E.onChangeHandler,X=E.onBlurHandler,W=E.reset,Q=f((function(e){return""!==e.trim()})),R=Q.value,z=Q.isValid,Y=Q.isInvalid,K=Q.onChangeHandler,Z=Q.onBlurHandler,$=Q.reset,ee=f((function(e){return""!==e.trim()})),te=ee.value,ne=ee.isValid,ce=ee.isInvalid,se=ee.onChangeHandler,ie=ee.onBlurHandler,ae=ee.reset,re=f((function(e){return e.includes("@")})),le=re.value,oe=re.isValid,de=re.isInvalid,je=re.onChangeHandler,ue=re.onBlurHandler,be=re.reset,me=f((function(e){return""!==e.trim()})),he=me.value,Oe=me.isValid,ve=me.isInvalid,xe=me.onChangeHandler,pe=me.onBlurHandler,fe=me.reset,ge=f((function(e){return""!==e.trim()})),Ne=ge.value,ye=ge.isValid,Ce=ge.isInvalid,Ie=ge.onChangeHandler,ke=ge.onBlurHandler,Be=ge.reset,Se=f((function(e){return""!==e.trim()})),Fe=Se.value,we=Se.isValid,De=Se.isInvalid,Ve=Se.onChangeHandler,_e=Se.onBlurHandler,He=Se.reset,Te=f((function(e){return""!==e.trim()})),Ae=Te.value,Pe=Te.isValid,Le=Te.isInvalid,qe=Te.onChangeHandler,Ee=Te.onBlurHandler,Me=Te.reset,Ge=f((function(e){return""!==e.trim()})),Je=Ge.value,Ue=Ge.isValid,Xe=Ge.isInvalid,We=Ge.onChangeHandler,Qe=Ge.onBlurHandler,Re=Ge.reset,ze=f((function(e){return""!==e.trim()})),Ye=ze.value,Ke=ze.isValid,Ze=ze.isInvalid,$e=ze.onChangeHandler,et=ze.onBlurHandler,tt=ze.reset,nt=function(){w(),q(),W(),$(),Me(),be(),ae(),fe(),Be(),He(),Me(),Re(),p(""),tt(),h([]),e.closeForm()},ct=["backdrop",e.show?"BackdropOpen":"BackdropClosed"],st=["formModal",e.show?"ModalOpen":"ModalClosed"];return Object(m.jsxs)(b.Fragment,{children:[e.show&&Object(m.jsx)("div",{onClick:e.closeForm,className:ct.join(" ")}),e.show&&Object(m.jsxs)("div",{className:st.join(" "),children:[Object(m.jsxs)("button",{onClick:e.closeForm,className:"backBtn",children:[Object(m.jsx)("img",{src:"/static/images/icon-arrow-left.svg",alt:""}),"Go Back"]}),Object(m.jsx)("h2",{children:"New Invoice"}),Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("p",{children:"Bill Form"}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"address",children:"Street Address"}),Object(m.jsx)("input",{value:I,type:"text",id:"address",onChange:S,onBlur:F}),B&&y]}),Object(m.jsxs)("div",{className:"formGrid",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"city",children:"City"}),Object(m.jsx)("input",{value:V,type:"text",id:"city",onChange:T,onBlur:L}),H&&y]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"postCode",children:"Post Code"}),Object(m.jsx)("input",{value:M,type:"text",id:"postCode",onChange:U,onBlur:X}),J&&y]})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"country",children:"Country"}),Object(m.jsx)("input",{value:R,type:"text",id:"country",onChange:K,onBlur:Z}),Y&&y]}),Object(m.jsx)("p",{children:"Bill To"}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientName",children:"Client's Name"}),Object(m.jsx)("input",{value:te,type:"text",id:"clientName",onChange:se,onBlur:ie}),ce&&y]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientEmail",children:"Client's Email"}),Object(m.jsx)("input",{value:le,type:"email",id:"clientEmail",onChange:je,onBlur:ue}),de&&y]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientAddress",children:"Street Address"}),Object(m.jsx)("input",{value:he,type:"text",id:"clientAddress",onChange:xe,onBlur:pe}),ve&&y]}),Object(m.jsxs)("div",{className:"formGrid",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientCity",children:"City"}),Object(m.jsx)("input",{value:Ne,type:"text",id:"clientCity",onChange:Ie,onBlur:ke}),Ce&&y]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientPostCode",children:"Post Code"}),Object(m.jsx)("input",{value:Fe,type:"text",id:"clientPostCode",onChange:Ve,onBlur:_e}),De&&y]})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientCountry",children:"Country"}),Object(m.jsx)("input",{value:Ae,type:"text",id:"clientCountry",onChange:qe,onBlur:Ee}),Le&&y]}),Object(m.jsxs)("div",{className:"formGrid",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"invoiceDate",children:"Invoice Date"}),Object(m.jsx)("input",{value:Je,type:"date",id:"invoiceDate",onChange:We,onBlur:Qe}),Xe&&y]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"paymentTerm",children:"Payment Term"}),Object(m.jsxs)("select",{value:x,onChange:function(e){e.target.value&&p(e.target.value)},children:[Object(m.jsx)("option",{value:"1",children:"Net 1 day"}),Object(m.jsx)("option",{value:"7",children:"Net 7 days"}),Object(m.jsx)("option",{value:"30",children:"Net 30 days"})]})]})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"description",children:"Project Description"}),Object(m.jsx)("input",{value:Ye,type:"text",id:"description",onChange:$e,onBlur:et}),Ze&&y]}),Object(m.jsx)("h2",{children:"Item List"}),Object(m.jsx)("div",{className:"itemList",children:i.map((function(e,t){return Object(m.jsx)(P,{id:t,onDelete:g,onItemValue:N},t)}))}),Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),r((function(e){return[].concat(Object(A.a)(e),["sampleComponent"])}))},className:"btnAdd",children:"+ Add New item"}),Object(m.jsxs)("div",{className:"btnBox",children:[Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),nt()},className:"btnDiscard",children:"Discard"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:function(){if(k&&_&&G&&z&&ne&&oe&&Oe&&ye&&we&&Pe&&Ue&&Ke&&""!==x&&!(j.length<=0)){var e={from:{address:I,city:V,postCode:M,country:R},to:{mail:le,name:te,address:he,city:Ne,postCode:Fe,country:Ae},invoiceDate:Je,terms:x,desc:Ye,itemList:j,status:"Draft",id:n.toString()};t(d.addInvoice(e)),nt()}},className:"btnDraft",children:"Save as draft"}),Object(m.jsx)("button",{onClick:function(){if(k&&_&&G&&z&&ne&&oe&&Oe&&ye&&we&&Pe&&Ue&&Ke&&""!==x&&!(j.length<=0)){var e={from:{address:I,city:V,postCode:M,country:R},to:{mail:le,name:te,address:he,city:Ne,postCode:Fe,country:Ae},invoiceDate:Je,terms:x,desc:Ye,itemList:j,status:"Pending",id:n.toString()};t(d.addInvoice(e)),nt()}},className:"btnSend",children:"Save & Send"})]})]})]})]})]})};var q=function(){var e=Object(b.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(b.useState)(!1),i=Object(u.a)(s,2),r=i[0],l=i[1],o=Object(a.c)((function(e){return e.allInvoice.invoices})).filter((function(e){return"all"===n?e:e.status.toLowerCase().includes(n)}));return Object(m.jsxs)("div",{className:w.a.home,children:[Object(m.jsx)("div",{className:w.a.navBar,children:Object(m.jsx)(k,{})}),Object(m.jsx)("div",{children:Object(m.jsx)(V,{openForm:function(){l(!0)},getFilterValue:function(e){c(e)},children:Object(m.jsx)(T,{invoices:o})})}),Object(m.jsx)(L,{closeForm:function(){l(!1)},show:r})]})};n(38);var E=function(e){var t=Object(g.h)(),n=Object(a.b)(),c=Object(g.g)(),s=t.invoiceId,i=Object(a.c)((function(e){return e.allInvoice.invoices})).filter((function(e){return e.id===s})),r=i[0],l=H(r.invoiceDate,r.terms),o=r.itemList.map((function(e){return e.price*e.qty}));if(!(o.length<=0)){var j,u=o.reduce((function(e,t){return e+t})),h=function(){n(d.deleteInvoice(r.id)),c("/invoices",{replace:!0})},O=function(){n(d.markInvoiceAsPaid(r.id))};j="Paid"===r.status?"green":"Pending"===r.status?"orange":"grey";var v="Paid"===r.status;return Object(m.jsxs)("div",{className:"container allDetails",children:[Object(m.jsxs)("button",{onClick:e.onGoBack,className:"backBtn",children:[Object(m.jsx)("img",{src:"/static/images/icon-arrow-left.svg",alt:""}),"Go Back"]}),Object(m.jsxs)("div",{className:"btnDiv",children:[Object(m.jsxs)("div",{className:"statusDiv",children:[Object(m.jsx)("p",{children:"Status"}),Object(m.jsxs)("div",{className:"status ".concat(j),children:[Object(m.jsx)("span",{className:"dot"}),Object(m.jsx)("span",{className:"statusName",children:r.status})]})]}),Object(m.jsxs)("div",{className:"statusFunctions btnTop",children:[!v&&Object(m.jsx)("button",{onClick:e.openForm,className:"editInvoiceBtn",children:"Edit"}),Object(m.jsx)("button",{onClick:h,className:"deleteBtn",children:"Delete"}),!v&&Object(m.jsx)("button",{onClick:O,className:"markBtn",children:"Mark as paid"})]})]}),Object(m.jsxs)("div",{className:"details",children:[Object(m.jsxs)("div",{className:"clientInfo",children:[Object(m.jsxs)("span",{children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{children:"#"}),r.id]}),Object(m.jsx)("p",{children:"Landing Page Design"})]}),Object(m.jsxs)("span",{className:"clientShit",children:[Object(m.jsx)("p",{children:r.from.address}),Object(m.jsx)("p",{children:r.from.city}),Object(m.jsx)("p",{children:r.from.country}),Object(m.jsx)("p",{children:r.from.postCode})]})]}),Object(m.jsxs)("div",{className:"recieverInfo",children:[Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:"Invoice Date"}),Object(m.jsx)("p",{className:"answer",children:r.invoiceDate})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:"Bill To"}),Object(m.jsx)("p",{className:"answer",children:r.to.name})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:"Payment Due"}),Object(m.jsx)("p",{className:"answer",children:l})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:r.to.address}),Object(m.jsx)("p",{children:r.to.city}),Object(m.jsx)("p",{children:r.to.postCode}),Object(m.jsx)("p",{className:"countryName",children:r.to.country})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:"Send To"}),Object(m.jsx)("p",{className:"answer",children:r.to.mail})]})]})]}),Object(m.jsxs)("div",{className:"checkout",children:[r.itemList.map((function(e){return Object(m.jsx)(b.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:e.itemName}),Object(m.jsxs)("p",{className:"checkoutAmount",children:[Object(m.jsx)("span",{children:e.qty}),Object(m.jsx)("span",{children:"X"}),"\xa3",e.price]})]}),Object(m.jsxs)("p",{children:["\xa3",e.price*e.qty]})]})},e.id)})),Object(m.jsxs)("div",{className:"grandTotal",children:[Object(m.jsx)("p",{children:"Grand Total"}),Object(m.jsxs)("p",{className:"total",children:["\xa3",u]})]})]}),Object(m.jsxs)("div",{className:"checkout_desktop",children:[r.itemList.map((function(e){return Object(m.jsxs)("div",{className:"priceInfo",children:[Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:"Item Name"}),Object(m.jsx)("p",{children:e.itemName})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:"QTY."}),Object(m.jsx)("p",{children:e.qty})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:"Price"}),Object(m.jsxs)("p",{children:["\xa3",e.price]})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("p",{children:"Total"}),Object(m.jsxs)("p",{children:["\xa3",e.price*e.qty]})]})]},e.id)})),Object(m.jsxs)("div",{className:"grandTotal",children:[Object(m.jsx)("p",{children:"Amount Due"}),Object(m.jsxs)("p",{className:"total",children:["\xa3",u]})]})]}),Object(m.jsxs)("div",{className:"split",children:[Object(m.jsx)("div",{}),Object(m.jsxs)("div",{className:"statusFunctions btnBottom",children:[Object(m.jsx)("button",{onClick:e.openForm,className:"editInvoiceBtn",children:"Edit"}),Object(m.jsx)("button",{onClick:h,className:"deleteBtn",children:"Delete"}),!v&&Object(m.jsx)("button",{onClick:O,className:"markBtn",children:"Mark as paid"})]})]})]})}},M=n(19),G=n.n(M);var J=function(e){var t=Object(b.useState)(!1),n=Object(u.a)(t,2),c=n[0],s=n[1],i=e.price*e.qty,a=Object(b.useRef)(),r=Object(b.useRef)(),l=Object(b.useRef)();return Object(m.jsxs)("div",{className:"item",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"itemName",children:"Item Name"}),Object(m.jsx)("input",{defaultValue:e.itemName,type:"text",id:"itemName",ref:a})]}),Object(m.jsxs)("div",{className:"itemGrid",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"qty",children:"Qty."}),Object(m.jsx)("input",{defaultValue:e.qty,type:"number",id:"qty",ref:r})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"price",children:"Price"}),Object(m.jsx)("input",{defaultValue:e.price,type:"number",id:"price",ref:l})]}),Object(m.jsxs)("div",{className:"total",children:[Object(m.jsx)("span",{children:"Total"}),Object(m.jsx)("p",{children:i})]}),Object(m.jsx)("button",{className:"removeItem",children:Object(m.jsx)("img",{src:"/static/images/icon-delete.svg",alt:""})}),Object(m.jsxs)("button",{className:"btnAddToList",onClick:function(){if(""!==a.current.value||""!==r.current.value||""!==l.current.value){s(!0);var t={itemName:a.current.value,qty:r.current.value,price:l.current.value,total:i,id:e.id};e.onItemValue(t)}},disabled:c,children:[!c&&Object(m.jsx)("img",{src:"/static/images/icon-plus.svg",alt:""}),c&&Object(m.jsx)("img",{src:"/static/images/icon-check.svg",alt:""})]})]})]})};var U=function(e){var t=Object(g.h)(),n=Object(a.b)(),c=t.invoiceId,s=Object(a.c)((function(e){return e.allInvoice.invoices})).filter((function(e){return e.id===c})),i=s[0],r=Object(b.useState)([]),l=Object(u.a)(r,2),o=l[0],j=l[1],h=Object(b.useState)(["sampleComponent"]),O=Object(u.a)(h,2),v=O[0],x=O[1],p=function(e){x((function(t){return t.filter((function(t,n){return n!==e}))}))},f=function(e){j((function(t){return[].concat(Object(A.a)(t),[e])}))},N=function(e){j((function(t){return[].concat(Object(A.a)(t),[e])}))},y=function(e){var t=new Date(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),c=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(t),s=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t);return"".concat(s,"-").concat(c,"-").concat(n)}(i.invoiceDate),C=Object(b.useState)(i.from.address),I=Object(u.a)(C,2),k=I[0],B=I[1],S=Object(b.useState)(i.from.city),F=Object(u.a)(S,2),w=F[0],D=F[1],V=Object(b.useState)(i.from.postCode),_=Object(u.a)(V,2),H=_[0],T=_[1],L=Object(b.useState)(i.from.country),q=Object(u.a)(L,2),E=q[0],M=q[1],G=Object(b.useState)(i.to.name),U=Object(u.a)(G,2),X=U[0],W=U[1],Q=Object(b.useState)(i.to.mail),R=Object(u.a)(Q,2),z=R[0],Y=R[1],K=Object(b.useState)(i.to.address),Z=Object(u.a)(K,2),$=Z[0],ee=Z[1],te=Object(b.useState)(i.to.city),ne=Object(u.a)(te,2),ce=ne[0],se=ne[1],ie=Object(b.useState)(i.to.postCode),ae=Object(u.a)(ie,2),re=ae[0],le=ae[1],oe=Object(b.useState)(i.to.country),de=Object(u.a)(oe,2),je=de[0],ue=de[1],be=Object(b.useState)(y),me=Object(u.a)(be,2),he=me[0],Oe=me[1],ve=Object(b.useState)(i.terms),xe=Object(u.a)(ve,2),pe=xe[0],fe=xe[1],ge=Object(b.useState)(i.desc),Ne=Object(u.a)(ge,2),ye=Ne[0],Ce=Ne[1],Ie=["backdrop",e.show?"BackdropOpen":"BackdropClosed"],ke=["formModal",e.show?"ModalOpen":"ModalClosed"];return Object(m.jsxs)(b.Fragment,{children:[e.show&&Object(m.jsx)("div",{onClick:e.closeForm,className:Ie.join(" ")}),e.show&&Object(m.jsxs)("div",{className:ke.join(" "),children:[Object(m.jsxs)("button",{className:"backBtn",children:[Object(m.jsx)("img",{src:"/static/images/icon-arrow-left.svg",alt:""}),"Go Back"]}),Object(m.jsxs)("h2",{children:["Edit #",i.id]}),Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("p",{children:"Bill Form"}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"address",children:"Street Address"}),Object(m.jsx)("input",{defaultValue:k,type:"text",id:"address",onChange:function(e){B(e.target.value)}})]}),Object(m.jsxs)("div",{className:"formGrid",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"city",children:"City"}),Object(m.jsx)("input",{defaultValue:w,type:"text",id:"city",onChange:function(e){D(e.target.value)}})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"postCode",children:"Post Code"}),Object(m.jsx)("input",{defaultValue:H,type:"text",id:"postCode",onChange:function(e){T(e.target.value)}})]})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"country",children:"Country"}),Object(m.jsx)("input",{defaultValue:E,type:"text",id:"country",onChange:function(e){M(e.target.value)}})]}),Object(m.jsx)("p",{children:"Bill To"}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientName",children:"Client's Name"}),Object(m.jsx)("input",{defaultValue:X,type:"text",id:"clientName",onChange:function(e){W(e.target.value)}})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientEmail",children:"Client's Email"}),Object(m.jsx)("input",{defaultValue:z,type:"email",id:"clientEmail",onChange:function(e){Y(e.target.value)}})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientAddress",children:"Street Address"}),Object(m.jsx)("input",{defaultValue:$,type:"text",id:"clientAddress",onChange:function(e){ee(e.target.value)}})]}),Object(m.jsxs)("div",{className:"formGrid",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientCity",children:"City"}),Object(m.jsx)("input",{defaultValue:ce,type:"text",id:"clientCity",onChange:function(e){se(e.target.value)}})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientPostCode",children:"Post Code"}),Object(m.jsx)("input",{defaultValue:re,type:"text",id:"clientPostCode",onChange:function(e){le(e.target.value)}})]})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"clientCountry",children:"Country"}),Object(m.jsx)("input",{defaultValue:je,type:"text",id:"clientCountry",onChange:function(e){ue(e.target.value)}})]}),Object(m.jsxs)("div",{className:"formGrid",children:[Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"invoiceDate",children:"Invoice Date"}),Object(m.jsx)("input",{type:"date",id:"invoiceDate",defaultValue:he,onChange:function(e){Oe(e.target.value)}})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"paymentTerm",children:"Payment Term"}),Object(m.jsxs)("select",{onClick:function(e){e.target.value&&fe(e.target.value)},defaultValue:pe,children:[Object(m.jsx)("option",{value:"1",children:"Net 1 day"}),Object(m.jsx)("option",{value:"7",children:"Net 7 days"}),Object(m.jsx)("option",{value:"30",children:"Net 30 days"})]})]})]}),Object(m.jsxs)("div",{className:"formInput",children:[Object(m.jsx)("label",{htmlFor:"description",children:"Project Description"}),Object(m.jsx)("input",{defaultValue:ye,type:"text",id:"description",onChange:function(e){Ce(e.target.value)}})]}),Object(m.jsx)("h2",{children:"Item List"}),Object(m.jsxs)("div",{className:"itemList",children:[i.itemList.map((function(e,t){return Object(m.jsx)(J,{itemName:e.itemName,qty:e.qty,price:e.price,onItemValue:N},t)})),v.map((function(e,t){return Object(m.jsx)(P,{id:t,onDelete:p,onItemValue:f},t)}))]}),Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),x((function(e){return[].concat(Object(A.a)(e),["sampleComponent"])}))},className:"btnAdd",children:"+ Add New item"}),Object(m.jsxs)("div",{className:"btnBox",children:[Object(m.jsx)("div",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:e.closeForm,className:"btnCancel",children:"Cancel"}),Object(m.jsx)("button",{disabled:o.length<=0,onClick:function(){if(!(""===k&&""===w&&""===H&&""===E&&""===X&&""===z&&""===$&&""===ce&&""===re&&""===je&&""===he&&""===ye&&""===pe&&o.length<=0)){var t={from:{address:k,city:w,postCode:H,country:E},to:{mail:z,name:X,address:$,city:ce,postCode:re,country:je},invoiceDate:he,terms:pe,desc:ye,itemList:o,status:i.status,id:i.id};n(d.updateInvoice(t)),e.closeForm()}},className:"btnSaveChanges",children:"Save Changes"})]})]})]})]})]})};var X=function(){var e=Object(b.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(g.g)();return Object(m.jsxs)("div",{className:G.a.invoice,children:[Object(m.jsx)("div",{className:G.a.navBar,children:Object(m.jsx)(k,{})}),Object(m.jsx)(E,{onGoBack:function(){s("/invoices",{replace:!0})},openForm:function(){c(!0)}}),Object(m.jsx)(U,{closeForm:function(){c(!1)},show:n})]})},W=n(13),Q=n(7),R=n.n(Q),z=!0;var Y=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.allInvoice})),n=Object(b.useContext)(v);return Object(b.useEffect)((function(){var t;e((t="https://invoices-49204-default-rtdb.firebaseio.com/".concat(n.localId,".json"),function(){var e=Object(W.a)(R.a.mark((function e(n){var c,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){var e=Object(W.a)(R.a.mark((function e(){var n,c,s,i,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Something went wrong...");case 5:return e.next=7,n.json();case 7:for(i in c=e.sent,console.log(c),s=[],c)s.push(c[i].invoices);return a=s[0].map((function(e){return e})),console.log(a),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,c();case 4:s=e.sent,n(d.replaceInvoices({invoices:s.length>0?s:[],totalInvoices:s.length})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Could not get invoice"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,n.localId]),Object(b.useEffect)((function(){z?z=!1:t.changed&&e(function(e,t){return Object(W.a)(R.a.mark((function n(){var c;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(){var n=Object(W.a)(R.a.mark((function n(){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t,{method:"PUT",body:JSON.stringify({invoices:e,totalInvoices:e.length})});case 2:if(n.sent.ok){n.next=5;break}throw new Error("Something went wrong...");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=1,n.next=4,c();case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.log("Could not send invoice"),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})))}(t,"https://invoices-49204-default-rtdb.firebaseio.com/".concat(n.localId,".json")))}),[e,t,n.localId]),Object(m.jsxs)(g.d,{children:[Object(m.jsx)(g.b,{path:"/",element:Object(m.jsx)(S,{})}),!n.isLoggedIn&&Object(m.jsx)(g.b,{path:"/auth",element:Object(m.jsx)(y,{})}),Object(m.jsx)(g.b,{path:"/invoices",element:n.isLoggedIn?Object(m.jsx)(q,{}):Object(m.jsx)(g.a,{to:"/auth"})}),Object(m.jsx)(g.b,{path:"/invoices/:invoiceId",element:n.isLoggedIn?Object(m.jsx)(X,{}):Object(m.jsx)(g.a,{to:"/auth"})})]})};s.a.render(Object(m.jsx)(O,{children:Object(m.jsx)(i.a,{children:Object(m.jsx)(a.a,{store:j,children:Object(m.jsx)(Y,{})})})}),document.getElementById("root"))}],[[40,1,2]]]);
//# sourceMappingURL=main.1c957cda.chunk.js.map